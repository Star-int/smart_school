exports.ids=[28],exports.modules={65:function(t,e,r){"use strict";var l=r(12);const o="ucenterservice/collect";e.a={getCollectList:t=>Object(l.a)({url:`${o}/getCollectByUserId/${t}`,method:"get"}),addCollect:t=>Object(l.a)({url:`${o}/addCollect`,method:"post",data:t}),deleteCollect:t=>Object(l.a)({url:`${o}/deleteCollect`,method:"delete",data:t})}},67:function(t,e,r){"use strict";var l=r(12);e.a={getPageList:(t,e,r)=>Object(l.a)({url:`/eduservice/course/getfrontCourseList/${t}/${e}`,method:"post",data:r}),getNestedTreeList2:()=>Object(l.a)({url:"/eduservice/subject/list",method:"get"}),getById:t=>Object(l.a)({url:`/eduservice/course/getfrontCourseByCourseId/${t}`,method:"get"}),getCollectList:(t,e,r)=>Object(l.a)({url:`/eduservice/course/searchCollectCourse/${t}/${e}`,method:"get",params:{userId:r}}),getAllCourse:()=>Object(l.a)({url:"/eduservice/course//getAllCourse",method:"get"})}},98:function(t,e,r){"use strict";r.r(e);var l=r(67),o=r(65),c=r(4),n=r.n(c),d={data:()=>({list:[],user:{},collectInfo:{},page:1,limit:6,total:0}),created(){this.getUserInfo(),this.fetchData()},methods:{fetchData(t=1){this.page=t,l.a.getCollectList(this.page,this.limit,this.user.id).then(t=>{this.list=t.data.data.items.records,this.total=t.data.data.items.total})},getUserInfo(){var t=n.a.get("guli_ucenter");if(t)try{this.user=JSON.parse(t)}catch(t){console.error("JSON 解析失败:",t)}},removeDataById(t){this.collectInfo.courseId=t,this.collectInfo.userId=this.user.id,o.a.deleteCollect(this.collectInfo).then(t=>{this.$message({type:"success",message:"取消收藏成功"}),this.fetchData(this.page,this.limit,this.user.id)}).catch(t=>{console.error(t),this.$message({type:"error",message:"取消收藏失败"})})}}},h=r(3),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-container"},[t._ssrNode("<h1>我的课程收藏</h1> "),r("el-table",{attrs:{data:t.list,border:"",fit:"","highlight-current-row":"","row-class-name":"myClassList"}},[r("el-table-column",{attrs:{label:"序号",width:"70",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s((t.page-1)*t.limit+e.$index+1))]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"课程信息",width:"470",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",{staticClass:"info"},[r("div",{staticClass:"pic"},[r("router-link",{attrs:{to:"/course/"+e.row.id}},[r("img",{attrs:{src:e.row.cover,alt:"scope.row.title",width:"150px"}})])],1),t._v(" "),r("div",{staticClass:"title"},[r("a",[t._v(t._s(e.row.title))]),t._v(" "),r("p",[t._v(t._s(e.row.lessonNum)+"课时")])])])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{staticStyle:{width:"98px"},attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(r){return t.removeDataById(e.row.id)}}},[t._v("取消收藏")])]}}])})],1),t._ssrNode(" "),r("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:t.total,layout:"total, prev, pager, next, jumper"},on:{"current-change":t.fetchData}})],2)}),[],!1,null,null,"1f376e49");e.default=component.exports}};