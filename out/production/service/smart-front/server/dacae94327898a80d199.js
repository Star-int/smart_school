exports.ids=[33],exports.modules={123:function(t,e,o){"use strict";o.r(e);var r=o(73),n=o.n(r);for(var l in r)"default"!==l&&function(t){o.d(e,t,(function(){return r[t]}))}(l);e.default=n.a},124:function(t,e,o){(e=o(1)(!1)).push([t.i,".app-container{justify-content:center;margin-left:200px;margin-top:-70px;width:100%}.description-container{width:180px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.description-text{cursor:pointer}",""]),t.exports=e},168:function(t,e,o){"use strict";o.r(e);var r=o(72),n=o(4),l=o.n(n),c={data:()=>({goodsList:[],user:{},searchObj:{productName:"",price:"",category:""},page:1,limit:6,total:""}),created(){this.fetchData()},methods:{fetchData(t=1){this.getUserInfo(),this.page=t,console.log(this.page),console.log(this.limit),r.a.getGoodsFrontPage(this.page,this.limit,this.user.id).then(t=>{this.goodsList=t.data.data.items.records,this.total=t.data.data.items.total,console.log(JSON.stringify(this.goodsList))}).catch(t=>{console.log(t)})},getUserInfo(){var t=l.a.get("guli_ucenter");if(t)try{this.user=JSON.parse(t),this.goodsList.sellerId=this.user.id,console.log("成功解析 JSON 数据")}catch(t){console.error("JSON 解析失败:",t)}},handleChangeStatus(t,e){r.a.upOrDownGoods(t,e).then(t=>{!0===e?this.$message({type:"success",message:"上架成功"}):this.$message({type:"success",message:"下架成功"})})},resetData(){this.searchObj={productName:"",price:"",category:""},this.fetchData()},handleDelete(t){this.$confirm("此操作将永久删除该商品, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{r.a.deleteGoods(t).then(t=>{this.fetchData(),this.$message({type:"success",message:"删除成功!"})}).catch(t=>{this.$message({type:"error",message:"删除失败!"})})})}}},d=o(3);var component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"app-container"},[t._ssrNode('<section class="tac pt20"><a href="/flea/add" title="再卖一件" class="comm-btn c-btn-2" style="margin-right: 1000px;color:red">再卖一件</a></section> '),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,border:""}},[o("el-table-column",{attrs:{label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("i",{staticClass:"el-icon"}),t._v(" "),o("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s((t.page-1)*t.limit+e.$index+1))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"商品图片",width:"200",prop:"cover"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("router-link",{attrs:{to:"/flea/"+t.row.id}},[o("img",{staticStyle:{height:"100px",width:"100%","object-fit":"cover"},attrs:{src:t.row.cover}})])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"商品名称",width:"100",prop:"productName"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.productName))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"交易方式",width:"100px",prop:"transactionMethod"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v(t._s(e.row.transactionMethod))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"商品描述",width:"180px",prop:"description"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",{staticClass:"description-container"},[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.row.description,placement:"top"}},[o("span",{domProps:{innerHTML:t._s(e.row.description)}})])],1)]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"商品价格",width:"100",prop:"price",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[o("span",[t._v("￥"+t._s(e.row.price))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"状态",width:"100",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(o){return t.handleChangeStatus(e.row.id,e.row.status)}},model:{value:e.row.status,callback:function(o){t.$set(e.row,"status",o)},expression:"scope.row.status"}}),t._v(" "),o("span",[t._v(t._s(e.row.status?"上架":"下架"))])]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("router-link",{attrs:{to:"/flea/edit/"+e.row.id}},[o("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"}},[t._v("编辑")])],1),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._ssrNode(" "),o("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:parseInt(t.total),layout:"total, prev, pager, next, jumper"},on:{"current-change":t.fetchData}})],2)}),[],!1,(function(t){var e=o(123);e.__inject__&&e.__inject__(t)}),null,"dcdbff8e");e.default=component.exports},72:function(t,e,o){"use strict";var r=o(12);const n="/flea/goods/";e.a={getAllGoods:()=>Object(r.a)({url:`${n}/getAllGoods`,method:"get"}),getGoodsPage:(t,e,o)=>Object(r.a)({url:`${n}/getGoodsFrontPage/${t}/${e}`,method:"get",params:o}),addGoods:t=>Object(r.a)({url:`${n}/addGoods`,method:"post",data:t}),updateGoods:t=>Object(r.a)({url:`${n}/updateGoods`,method:"put",data:t}),getGoodsById:t=>Object(r.a)({url:`${n}/getGoodsById/${t}`,method:"get"}),deleteGoods:t=>Object(r.a)({url:`${n}/deleteGoodsById/${t}`,method:"delete"}),getGoodsFrontPage:(t,e,o)=>Object(r.a)({url:`${n}/getGoodsUserPage/${t}/${e}`,method:"get",params:{sellerId:o}}),upOrDownGoods:(t,e)=>Object(r.a)({url:`${n}/upOrDownGoods`,method:"put",params:{goodsId:t,status:e}})}},73:function(t,e,o){var content=o(124);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var r=o(2).default;t.exports.__inject__=function(t){r("218304ca",content,!0,t)}}};