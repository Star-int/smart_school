(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{366:function(t,e,n){"use strict";var o=n(88),r="/recuit/recruitmentCompany";e.a={getCompanyList:function(){return Object(o.a)({url:"".concat(r,"/getCompanyList"),method:"get"})},getCompanyJobList:function(t){return Object(o.a)({url:"".concat(r,"/getRecruitmentsById/").concat(t),method:"get"})}}},370:function(t,e,n){"use strict";var o=n(88);e.a={updateUserInfo:function(t){return Object(o.a)({url:"/ucenterservice/apimember/updateUserInfo",method:"put",data:t})},getSellerList:function(){return Object(o.a)({url:"/ucenterservice/apimember/getAllucenter",method:"get"})},updatePassword:function(t){return Object(o.a)({url:"/ucenterservice/apimember/updatePassword",method:"put",data:t})}}},379:function(t,e,n){"use strict";var o=n(88),r="/recuit/recruitmentResume";e.a={getResumePage:function(t,e,n){return Object(o.a)({url:"".concat(r,"/getAllResumePage/").concat(t,"/").concat(e),method:"get",params:n})},deleteResumeById:function(t){return Object(o.a)({url:"".concat(r,"/deteleById/").concat(t),method:"delete"})},addResume:function(t){return Object(o.a)({url:"".concat(r,"/addResume"),method:"post",data:t})},updateResume:function(t){return Object(o.a)({url:"".concat(r,"/updateResume"),method:"put",data:t})},getUserResume:function(t,e,n){return Object(o.a)({url:"".concat(r,"/getResumePageByUserId/").concat(t,"/").concat(e,"/").concat(n),method:"get"})}}},458:function(t,e,n){"use strict";n.r(e);n(193),n(192);var o=n(379),r=n(366),c=n(370),l=n(25),d=n.n(l),m={data:function(){return{user:{},dialogTitle:"",companylist:{},recruitmentslist:{},sellerList:{},page:1,limit:4,total:"",resumeList:[],dialogVisible:!1,dialogVisible1:!1,resume:{cover:"",companyName:"",positionName:"",id:"",userId:"",companyId:"",recruitmentId:""},currentImage:""}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.page=e,this.getUserInfo(),o.a.getUserResume(this.page,this.limit,this.user.id).then((function(e){t.resumeList=e.data.data.items.records,t.total=e.data.data.items.total,console.log(JSON.stringify(t.resumeList))})).catch((function(t){console.log(t)})),r.a.getCompanyList().then((function(e){t.companylist=e.data.data.items})),c.a.getSellerList().then((function(e){t.sellerList=e.data.data.items}))},showImage:function(t){this.currentImage=t,this.dialogVisible=!0},getUserInfo:function(){var t=d.a.get("guli_ucenter");if(t)try{this.user=JSON.parse(t),console.log("成功解析 JSON 数据")}catch(t){console.error("JSON 解析失败:",t)}},handleEdit:function(t){this.dialogTitle="编辑",this.resume=t,this.dialogVisible1=!0},submitResume:function(){var t=this;o.a.updateResume(this.resume).then((function(e){t.$message({type:"success",message:"提交成功!"})})).catch((function(e){console.log(e),t.$message({type:"error",message:"提交失败!"})})),this.dialogVisible1=!1,this.$refs.resumeForm.resetFields()},handleAvatarSuccess:function(t){var e=t.split("\\").pop();this.resume.cover="http://localhost:9528/src/static/img/recruit/resume/"+e,console.log("图片名称:",e)},handleChange:function(t,e){this.fileList=e.slice(-3)},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该兼职信息，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o.a.deleteResumeById(t).then((function(t){e.$message({type:"success",message:"删除成功!"}),e.fetchData()}))})).catch((function(t){e.$message({type:"error",message:"删除失败!"})}))}}},h=n(19),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.resumeList,border:""}},[n("el-table-column",{attrs:{label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon"}),t._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s((t.page-1)*t.limit+e.$index+1))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"简历",width:"280",heght:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("img",{attrs:{src:e.row.cover,width:"200",height:"200"},on:{click:function(n){return t.showImage(e.row.cover)}}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"公司名称",width:"100",heght:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.companyName))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"岗位",width:"100",heght:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.positionName))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"状态",width:"100",heght:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?n("span",{staticStyle:{color:"blue"}},[t._v("未查看")]):1===e.row.status?n("span",{staticStyle:{color:"red"}},[t._v("不符合")]):2===e.row.status?n("span",{staticStyle:{color:"green"}},[t._v("符合")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(n){return t.handleEdit(e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{staticStyle:{width:"100%"},attrs:{src:t.currentImage}}),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")])],1)]),t._v(" "),n("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible1,width:"50%"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[n("el-form",{ref:"resumeForm",attrs:{model:t.resume,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"上传简历"}},[n("el-upload",{staticClass:"upload-demo",attrs:{action:"http://localhost:8222/recuit/upload/resume","on-success":t.handleAvatarSuccess,"show-file-list":!1,limit:20971520}},[n("img",{staticStyle:{height:"200px",width:"300px"},attrs:{src:this.resume.cover}})])],1)],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.submitResume}},[t._v("提交")])],1)],1),t._v(" "),n("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:parseInt(t.total),layout:"total, prev, pager, next, jumper"},on:{"current-change":t.fetchData}})],1)}),[],!1,null,"25b458b5",null);e.default=component.exports}}]);