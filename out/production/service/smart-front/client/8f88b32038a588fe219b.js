(window.webpackJsonp=window.webpackJsonp||[]).push([[38,40],{361:function(t,e,n){"use strict";var o=n(88),l="/application/student";e.a={getStudentInfoByUserId:function(t){return Object(o.a)({url:"".concat(l,"/getStudentInfoByUserId/").concat(t),method:"get"})},addStudent:function(t){return Object(o.a)({url:"".concat(l,"/addStudent"),method:"post",data:t})},getUndefineStudent:function(){return Object(o.a)({url:"".concat(l,"/getUndefineStuedentInfo"),method:"get"})},updateStudent:function(t){return Object(o.a)({url:"".concat(l,"/updateStudent"),method:"put",data:t})}}},368:function(t,e,n){var content=n(416);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("67717976",content,!0,{sourceMap:!1})},371:function(t,e,n){"use strict";var o=n(5),l=n(129)(5),d=!0;"find"in[]&&Array(1).find((function(){d=!1})),o(o.P+o.F*d,"Array",{find:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}}),n(128)("find")},391:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{options:["中山大学","华南理工大学","暨南大学","华南师范大学","广东工业大学","广州大学","深圳大学","汕头大学","广东海洋大学","广东药科大学","广东医科大学","仲恺农业工程学院","五邑大学","广州中医药大学","南方医科大学","华南农业大学","广东外语外贸大学","广东财经大学","广东技术师范大学","星海音乐学院","广州美术学院","深圳音乐学院","广州体育学院","广州医科大学","广东药科大学","仲恺农业工程学院","五邑大学","韶关学院","韩山师范学院","岭南师范学院","惠州学院","嘉应学院","东莞理工学院","广东石油化工学院","肇庆学院","广东金融学院","仲恺农业工程学院","五邑大学","韶关学院","韩山师范学院","岭南师范学院","惠州学院","嘉应学院","东莞理工学院","广东石油化工学院","肇庆学院","广东金融学院","广东白云学院","广东科技学院","广东理工学院","广东培正学院","广东第二师范学院","广州华商学院","广州南方学院","广州现代学院","广州康大职业技术学院","广东工商职业学院","广东创新科技职业学院","广东理工职业学院","广东水利电力职业技术学院","广东交通职业技术学院","广东科贸职业学院","广东女子职业技术学院","广东机电职业技术学院","广东建设职业技术学院","广东邮电职业技术学院","广东电力职业技术学院","广东食品药品职业学院","广东行政职业学院","广东体育职业技术学院","广东司法警官职业学院","广东信息工程职业学院","广东松山职业技术学院","广东岭南职业技术学院","广东新安职业技术学院","广东亚视演艺职业学院","广州涉外经济职业技术学院","广州南洋理工职业学院","广州科技贸易职业学院","广州华立科技职业学院","广州城市职业学院","广州铁路职业技术学院","广州民航职业技术学院","广州卫生职业技术学院","广州番禺职业技术学院","广州珠江职业技术学院","佛山科学技术学院","广东东软学院","佛山职业技术学院","广东轻工职业技术学院","广东舞蹈戏剧职业学院","广东环境保护工程职业学院","广东文艺职业学院","顺德职业技术学院"]}},created:function(){this.$emit("init-options",this.options)},methods:{}},l=n(19),component=Object(l.a)(o,void 0,void 0,!1,null,null,null);e.default=component.exports},415:function(t,e,n){"use strict";var o=n(368);n.n(o).a},416:function(t,e,n){(e=n(15)(!1)).push([t.i,".el-dialog[data-v-0bc0c0d3]{height:600px;width:800px}",""]),t.exports=e},460:function(t,e,n){"use strict";n.r(e);n(371);var o=n(361),l=n(391),d=n(25),r=n.n(d),c={components:{School:l.default},data:function(){return{saveBtnDisabled:!1,isDefine:"",student:{},studentInfo:{},undefinedstudentInfoList:{},user:{},activeName:"selectAuth",options:[],dialogVisible:!1}},created:function(){this.fetchData()},methods:{define:function(){this.dialogVisible=!0},fetchData:function(){var t=this;this.getUserInfo(),o.a.getStudentInfoByUserId(this.user.id).then((function(e){t.student=e.data.data.items,null==t.student&&(t.student={},t.isDefine=!0),console.log(JSON.stringify(t.student))})),o.a.getUndefineStudent().then((function(e){t.undefinedstudentInfoList=e.data.data.items,console.log(JSON.stringify(undefinedstudentInfoList))}))},handleInitOptions:function(t){this.options=t},getUserInfo:function(){var t=r.a.get("guli_ucenter");if(t)try{this.user=JSON.parse(t),console.log("成功解析 JSON 数据")}catch(t){console.error("JSON 解析失败:",t)}},handleStudentChange:function(){var t=this,e=this.undefinedstudentInfoList.find((function(e){return e.studentId===t.studentInfo.studentId}));e&&(this.studentInfo=e)},close:function(){this.dialogVisible=!1,this.studentInfo={},this.fetchData()},saveStudenInfo:function(){var t=this;this.studentInfo.userId=this.user.id,o.a.addStudent(this.studentInfo).then((function(e){2e4==e.data.code&&t.$message({type:"success",message:"保存成功"}),t.dialogVisible=!1,t.isDefine=!1,t.fetchData()}))},updateStudenInfo:function(){var t=this;this.studentInfo.userId=this.user.id,o.a.updateStudent(this.studentInfo).then((function(e){2e4==e.data.code?(t.$message({type:"success",message:"保存成功"}),t.dialogVisible=!1,t.fetchData(),t.isDefine=!1):t.$message({type:"error",message:"保存失败"})}))}}},f=(n(415),n(19)),component=Object(f.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-student-page"},[n("div",[n("el-form",[n("el-form-item",{attrs:{label:"姓名",prop:"studentName"}},[n("el-input",{attrs:{placeholder:"姓名",disabled:""},model:{value:t.student.studentName,callback:function(e){t.$set(t.student,"studentName",e)},expression:"student.studentName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"学号",prop:"studentId"}},[n("el-input",{attrs:{placeholder:"学号",disabled:""},model:{value:t.student.studentId,callback:function(e){t.$set(t.student,"studentId",e)},expression:"student.studentId"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"学校",prop:"schoolName"}},[n("el-input",{attrs:{placeholder:"学校",disabled:""},model:{value:t.student.schoolName,callback:function(e){t.$set(t.student,"schoolName",e)},expression:"student.schoolName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"专业",prop:"major"}},[n("el-input",{attrs:{placeholder:"专业",disabled:""},model:{value:t.student.major,callback:function(e){t.$set(t.student,"major",e)},expression:"student.major"}})],1),t._v(" "),1==this.isDefine?n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.define()}}},[t._v("进行学生认证")]):t._e()],1),t._v(" "),n("School",{on:{"init-options":t.handleInitOptions}}),t._v(" "),n("el-dialog",{attrs:{title:"学生认证",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"自行认证",name:"selfAuth"}},[n("el-form",{ref:"studentInfo",staticClass:"student-content",attrs:{model:t.studentInfo,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"学校名称"}},[n("el-select",{staticStyle:{width:"600px"},attrs:{placeholder:"请选择学校",filterable:""},model:{value:t.studentInfo.schoolName,callback:function(e){t.$set(t.studentInfo,"schoolName",e)},expression:"studentInfo.schoolName"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"学生姓名"}},[n("el-input",{staticStyle:{width:"600px"},model:{value:t.studentInfo.studentName,callback:function(e){t.$set(t.studentInfo,"studentName",e)},expression:"studentInfo.studentName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"学生学号"}},[n("el-input",{staticStyle:{width:"600px"},model:{value:t.studentInfo.studentId,callback:function(e){t.$set(t.studentInfo,"studentId",e)},expression:"studentInfo.studentId"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"学生专业班别","label-width":"100px"}},[n("el-input",{staticStyle:{width:"600px"},model:{value:t.studentInfo.major,callback:function(e){t.$set(t.studentInfo,"major",e)},expression:" studentInfo.major"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{disabled:t.saveBtnDisabled,type:"primary"},on:{click:function(e){return t.close()}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{disabled:t.saveBtnDisabled,type:"primary"},on:{click:t.saveStudenInfo}},[t._v("保存")])],1)],1)],1),t._v(" "),n("el-tab-pane",{attrs:{label:"选择认证",name:"selectAuth"}},[n("el-form",{ref:"studentInfo",staticClass:"student-content",attrs:{model:t.studentInfo,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"学校名称"}},[n("el-select",{staticStyle:{width:"600px"},attrs:{placeholder:"请选择学校",filterable:"",disabled:""},model:{value:t.studentInfo.schoolName,callback:function(e){t.$set(t.studentInfo,"schoolName",e)},expression:"studentInfo.schoolName"}},t._l(t.options,(function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"学生姓名"}},[n("el-input",{staticStyle:{width:"600px"},attrs:{disabled:""},model:{value:t.studentInfo.studentName,callback:function(e){t.$set(t.studentInfo,"studentName",e)},expression:"studentInfo.studentName"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"学生学号"}},[n("el-select",{staticStyle:{width:"600px"},attrs:{placeholder:"请选择学生id",filterable:""},on:{change:function(e){return t.handleStudentChange()}},model:{value:t.studentInfo.studentId,callback:function(e){t.$set(t.studentInfo,"studentId",e)},expression:"studentInfo.studentId"}},t._l(t.undefinedstudentInfoList,(function(t){return n("el-option",{key:t.studentId,attrs:{label:t.studentId,value:t.studentId}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"学生专业班别","label-width":"100px"}},[n("el-input",{staticStyle:{width:"600px"},attrs:{disabled:""},model:{value:t.studentInfo.major,callback:function(e){t.$set(t.studentInfo,"major",e)},expression:" studentInfo.major"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{disabled:t.saveBtnDisabled,type:"primary"},on:{click:function(e){return t.close()}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{disabled:t.saveBtnDisabled,type:"primary"},on:{click:t.updateStudenInfo}},[t._v("保存")])],1)],1)],1)],1)],1)],1)])}),[],!1,null,"0bc0c0d3",null);e.default=component.exports}}]);