(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{360:function(t,e,n){"use strict";var o=n(88);e.a={getPageList:function(t,e,n){return Object(o.a)({url:"/eduservice/course/getfrontCourseList/".concat(t,"/").concat(e),method:"post",data:n})},getNestedTreeList2:function(){return Object(o.a)({url:"/eduservice/subject/list",method:"get"})},getById:function(t){return Object(o.a)({url:"/eduservice/course/getfrontCourseByCourseId/".concat(t),method:"get"})},getCollectList:function(t,e,n){return Object(o.a)({url:"/eduservice/course/searchCollectCourse/".concat(t,"/").concat(e),method:"get",params:{userId:n}})},getAllCourse:function(){return Object(o.a)({url:"/eduservice/course//getAllCourse",method:"get"})}}},361:function(t,e,n){"use strict";var o=n(88),c="/application/student";e.a={getStudentInfoByUserId:function(t){return Object(o.a)({url:"".concat(c,"/getStudentInfoByUserId/").concat(t),method:"get"})},addStudent:function(t){return Object(o.a)({url:"".concat(c,"/addStudent"),method:"post",data:t})},getUndefineStudent:function(){return Object(o.a)({url:"".concat(c,"/getUndefineStuedentInfo"),method:"get"})},updateStudent:function(t){return Object(o.a)({url:"".concat(c,"/updateStudent"),method:"put",data:t})}}},380:function(t,e,n){"use strict";var o=n(88),c="/application/selection";e.a={getAllSelection:function(){return Object(o.a)({url:"".concat(c,"/getAllSelection"),method:"get"})},getSelectionPage:function(t,e,n){return Object(o.a)({url:"".concat(c,"/getSelectionPage/").concat(t,"/").concat(e),method:"get",params:{studentId:n}})},addSelection:function(t){return Object(o.a)({url:"".concat(c,"/addSelection"),method:"post",data:t})},updateSelection:function(t){return Object(o.a)({url:"".concat(c,"/updateStudent"),method:"put",data:t})},deteleSelection:function(t){return Object(o.a)({url:"".concat(c,"/deleteSelectionById/").concat(t),method:"delete"})},deteleSelectionsByStudentId:function(t){return Object(o.a)({url:"".concat(c,"/deleteSelectionsByStudentId/").concat(t),method:"delete"})},deleteBrachByStudentId:function(t){return Object(o.a)({url:"".concat(c,"/deleteSelectionsByStudentId"),method:"delete",data:t})},deleteBrach:function(t){return Object(o.a)({url:"".concat(c,"/deteleBrach"),method:"delete",data:t})}}},556:function(t,e,n){"use strict";n.r(e);n(57);var o=n(380),c=n(360),r=n(361),l=n(25),d=n.n(l),f={data:function(){return{user:{},selectionCourse:{},SelectionsList:[],courseList:[],coursePageList:[],page:1,limit:6,total:0,studentId:"",searchObj:{}}},created:function(){this.fetchData()},computed:{filteredCourseList:function(){var t=this;return this.courseList.filter((function(e){return!t.isCourseSelected(e.title)}))}},methods:{fetchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.getUserInfo(),null==this.user.id)return this.$message({type:"error",message:"请先登录"}),this.$router.push({path:"/login"}),!1;this.page=e,c.a.getAllCourse().then((function(e){t.courseList=e.data.data.list})),c.a.getPageList(this.page,this.limit,this.searchObj).then((function(e){t.coursePageList=e.data.data.items,t.total=e.data.data.total,console.log("课程列表为"+JSON.stringify(e.data)),console.log("总记录数为"+t.total)})),r.a.getStudentInfoByUserId(this.user.id).then((function(e){t.studentId=e.data.data.items.studentId,console.log("学生id为"+t.studentId)}))},getUserInfo:function(){var t=d.a.get("guli_ucenter");if(t)try{this.user=JSON.parse(t),console.log("成功解析 JSON 数据")}catch(t){console.error("JSON 解析失败:",t)}},handleAdd:function(t,title){var e=this;this.$confirm("是否选择该课程","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.selectionCourse.courseId=t,e.selectionCourse.courseName=title,e.selectionCourse.studentId=e.studentId,o.a.addSelection(e.selectionCourse).then((function(t){2e4==t.data.code&&e.$message({type:"success",message:"选课成功"})}))}))}}},h=n(19),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("选课中心")]),t._v(" "),n("router-link",{attrs:{to:"/application/application"}},[n("el-button",{staticStyle:{height:"42px"},attrs:{type:"primary",size:"mini"}},[t._v("返回")])],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.coursePageList,border:""}},[n("el-table-column",{attrs:{label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("i",{staticClass:"el-icon"}),t._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s((t.page-1)*t.limit+e.$index+1))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"课程名称",width:"300",heght:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{staticStyle:{"text-decoration":"none",color:"#409EFF"},attrs:{to:"/course/"+e.row.id}},[t._v(t._s(e.row.title))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"课程图片",width:"300",heght:"50"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("router-link",{staticStyle:{"text-decoration":"none",color:"#409EFF"},attrs:{to:"/course/"+t.row.id}},[n("img",{attrs:{src:t.row.cover,alt:"课程图片",width:"100%",height:"100%"}})])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"发布时间",width:"300",heght:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.gmtCreate))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){return t.handleAdd(e.row.id,e.row.title)}}},[t._v("选择该课")])]}}])})],1),t._v(" "),n("el-pagination",{staticStyle:{padding:"30px 0","text-align":"center"},attrs:{"current-page":t.page,"page-size":t.limit,total:parseInt(t.total),layout:"total, prev, pager, next, jumper"},on:{"current-change":t.fetchData}})],1)}),[],!1,null,"06a61cf8",null);e.default=component.exports}}]);