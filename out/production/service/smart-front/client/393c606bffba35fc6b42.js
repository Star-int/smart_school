(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{357:function(t,e,o){"use strict";var n=o(88);e.a={getGoodsPage:function(t,e,o){return Object(n.a)({url:"flea/goods/getGoodsFrontPage/".concat(t,"/").concat(e),method:"get",params:o})},getBanner:function(){return Object(n.a)({url:"flea/banner/getCarousel",method:"get"})},getAllGoods:function(){return Object(n.a)({url:"flea/goods/getAllGoods",method:"get"})},getGoodsById:function(t){return Object(n.a)({url:"flea/goods/getGoodsById/".concat(t),method:"get"})},getGoodsByCategory:function(t){return Object(n.a)({url:"flea/goods/getGoodsByCategory",method:"get",params:{category:t}})},getSellerInfoBySellerId:function(t){return Object(n.a)({url:"ucenterservice/apimember/getSellerInfo/".concat(t),method:"post"})},getSellingGoodsPage:function(t,e,o){return Object(n.a)({url:"flea/goods/getSellingGoodsPage/".concat(t,"/").concat(e),method:"get",params:{sellerId:o}})},getGoodsCollect:function(t,e,o){return Object(n.a)({url:"flea/goods/getGoodsCollect/".concat(t,"/").concat(e),method:"get",params:{userId:o}})}}},358:function(t,e,o){"use strict";var n=o(88),r="ucenterservice/collect";e.a={getCollectList:function(t){return Object(n.a)({url:"".concat(r,"/getCollectByUserId/").concat(t),method:"get"})},addCollect:function(t){return Object(n.a)({url:"".concat(r,"/addCollect"),method:"post",data:t})},deleteCollect:function(t){return Object(n.a)({url:"".concat(r,"/deleteCollect"),method:"delete",data:t})}}},449:function(t,e,o){t.exports=o.p+"img/2949467.gif"},451:function(t,e,o){var content=o(531);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(16).default)("3f9d04ee",content,!0,{sourceMap:!1})},530:function(t,e,o){"use strict";var n=o(451);o.n(n).a},531:function(t,e,o){(e=o(15)(!1)).push([t.i,".goods-container[data-v-04d542a7]{background-color:#f0ead6;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,.1)}.goods-info[data-v-04d542a7]{display:flex;height:300px;margin-bottom:100px}.goods-details[data-v-04d542a7]{height:370px;width:600px;font:14px/1.5 Microsoft YaHei,sans-serif;color:#333;line-height:1.5;background-color:rgba(255,165,0,.5);padding:10px;border:1px solid #ccc;border-radius:5px;box-shadow:0 2px 4px rgba(0,0,0,.1)}.goods-order[data-v-04d542a7]{margin-top:20px}.recommend-container[data-v-04d542a7]{display:flex;flex-wrap:wrap;margin-bottom:20px;margin-left:200px}.recommend-item[data-v-04d542a7]{background-color:#f5f9fa;padding:10px;width:300px;height:300px;margin-right:20px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px;box-shadow:0 2px 4px rgba(0,0,0,.1)}.recommend-img[data-v-04d542a7]{width:200px;height:200px;margin:10px auto 0;display:block;border-top-left-radius:5px;border-top-right-radius:5px}.recommend-info[data-v-04d542a7]{padding:10px}.recommend-info p[data-v-04d542a7]{margin:5px 0 5px 50px;font-size:20px;color:#333}.my-label[data-v-04d542a7]{background:#4ac80b}",""]),t.exports=e},546:function(t,e,o){"use strict";o.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"path-wrap txtOf hLh30",staticStyle:{"margin-left":"100px"}},[e("a",{staticClass:"c-999 fsize14",attrs:{href:"/",title:""}},[this._v("首页")]),this._v("\n      \\\n      "),e("a",{staticClass:"c-999 fsize14",attrs:{href:"/flea/all",title:""}},[this._v("全部商品")]),this._v("\n      \\\n      "),e("span",{staticClass:"c-333 fsize14"},[this._v("商品详情")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"c-c-content c-infor-title",attrs:{id:"i-art-comment"}},[e("span",{staticClass:"commentTitle"},[this._v("商品评论")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("aside",{staticClass:"noter-pic"},[e("img",{staticClass:"picImg",attrs:{width:"50",height:"50",src:o(449)}})])}],r=o(357),c=o(88),l=function(t,e,o){return Object(c.a)({url:"/flea/comment/".concat(t,"/").concat(e),method:"get",params:{goodsId:o}})},d=function(t){return Object(c.a)({url:"/flea/comment/auth/save",method:"post",data:t})},m=o(358),f=o(25),h=o.n(f),v={data:function(){return{id:this.$route.params.id,goodsInfo:{},recommendList:{},sellerInfo:{},data:{},page:1,limit:4,total:10,isFavorite:!1,comment:{content:"",courseId:""},collectInfo:{},user:{}}},created:function(){this.getInfoById(this.id),this.initComment(),this.getUserInfo()},methods:{getInfoById:function(t){var e=this;r.a.getGoodsById(t).then((function(t){e.goodsInfo=t.data.data.items,r.a.getGoodsByCategory(e.goodsInfo.category).then((function(t){e.recommendList=t.data.data.items})),r.a.getSellerInfoBySellerId(e.goodsInfo.sellerId).then((function(t){e.sellerInfo=t.data.data.items,console.log(JSON.stringify(e.sellerInfo))}))}))},getUserInfo:function(){var t=h.a.get("guli_ucenter");if(t)try{this.user=JSON.parse(t),console.log("成功解析 JSON 数据")}catch(t){console.error("JSON 解析失败:",t)}},initComment:function(){var t=this;l(this.page,this.limit,this.id).then((function(e){t.data=e.data.data,console.log(JSON.stringify(t.data))}))},addToFavorites:function(){},toggleFavorite:function(){var t=this;if(this.collectInfo.goodsId=this.id,this.collectInfo.userId=this.user.id,null==this.user.id)return this.$message({type:"error",message:"请先登录"}),this.$router.push({path:"/login"}),!1;m.a.addCollect(this.collectInfo).then((function(e){e.data.success?(t.isFavorite=!0,t.$message({type:"success",message:"收藏成功!"})):t.$message({type:"error",message:"收藏失败!"})}))},addComment:function(){var t=this;this.comment.goodsId=this.id,this.comment.sellerId=this.goodsInfo.sellerId,d(this.comment).then((function(e){e.data.success&&(t.comment.content="",t.initComment())}))},gotoPage:function(t){var e=this;l(t,this.limit,this.id).then((function(t){e.data=t.data.data}))}}},_=(o(530),o(19)),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[Object.keys(t.goodsInfo).length>0?o("div",{staticClass:"goods-container"},[t._m(0),t._v(" "),o("div",{staticClass:"goods-info"},[o("img",{staticStyle:{height:"390px",width:"390px","margin-left":"200px",border:"1px solid #ccc","box-shadow":"0 2px 4px rgba(0, 0, 0, 0.1)"},attrs:{src:t.goodsInfo.cover,alt:"商品封面"}}),t._v(" "),o("div",{staticClass:"goods-details"},[o("h1",[t._v(t._s(t.goodsInfo.productName))]),t._v(" "),o("el-descriptions",{staticClass:"goodsInfo",attrs:{column:1,size:"medium",border:""}},[o("el-descriptions-item",{attrs:{"label-style":"background-color: #B3E6F5;width:10px","content-style":"background-color: #E1F3D8; width:100px"}},[o("template",{slot:"label"},[o("i",{staticClass:"el-icon-money"}),t._v("\n              价格\n            ")]),t._v("\n            "+t._s(t.goodsInfo.price)+"元\n          ")],2),t._v(" "),o("el-descriptions-item",{attrs:{"label-style":"background-color: #B3E6F5;width:10px","content-style":"background-color: #E1F3D8; width:100px"}},[o("template",{slot:"label"},[o("i",{staticClass:"el-icon-s-ticket"}),t._v("\n              类别\n            ")]),t._v("\n            "+t._s(t.goodsInfo.category)+"\n          ")],2),t._v(" "),o("el-descriptions-item",{attrs:{"label-style":"background-color: #B3E6F5;width:10px","content-style":"background-color: #E1F3D8; width:100px"}},[o("template",{slot:"label"},[o("i",{staticClass:"el-icon-s-order"}),t._v("\n              商品描述\n            ")]),t._v(" "),o("p",{domProps:{innerHTML:t._s(t.goodsInfo.description)}})],2),t._v(" "),o("el-descriptions-item",{attrs:{label:"发布时间","label-style":"background-color: #B3E6F5;width:10px","content-style":"background-color: #E1F3D8; width:100px"}},[o("template",{slot:"label"},[o("i",{staticClass:"el-icon-date"}),t._v("\n              发布时间\n            ")]),t._v("\n            "+t._s(t.goodsInfo.gmtCreate)+"\n          ")],2)],1),t._v(" "),o("h2",[t._v("卖家信息")]),t._v(" "),o("img",{staticStyle:{width:"90px",height:"90px"},attrs:{src:t.sellerInfo.avatar,alt:""}}),t._v(" "),o("el-descriptions",{staticStyle:{"margin-left":"100px","margin-top":"-95px"},attrs:{column:1,border:""}},[o("el-descriptions-item",{attrs:{"label-style":"background-color: #B3E6F5;width:10px","content-style":"background-color: #E1F3D8; width:100px"}},[o("template",{slot:"label"},[o("i",{staticClass:"el-icon-user"}),t._v("\n              卖家昵称\n            ")]),t._v("\n            "+t._s(t.sellerInfo.nickname)+"\n          ")],2),t._v(" "),o("el-descriptions-item",{attrs:{"label-style":"background-color: #B3E6F5;width:10px","content-style":"background-color: #E1F3D8; width:100px"}},[o("template",{slot:"label"},[o("i",{staticClass:"el-icon-phone"}),t._v("\n              卖家联系方式\n            ")]),t._v("\n            "+t._s(t.sellerInfo.mobile)+"\n          ")],2)],1)],1)]),t._v(" "),o("div",[o("el-button",{staticStyle:{"margin-left":"1000px"},on:{click:t.toggleFavorite}},[o("i",{class:t.isFavorite?"el-icon-star-on":"el-icon-star-off"}),t._v(" 加入收藏\n      ")])],1),t._v(" "),o("div",{staticClass:"goods-order"},[o("h1",{staticStyle:{"margin-left":"150px",color:"chocolate"}},[t._v("推荐其他商品：")]),t._v(" "),o("div",{staticClass:"recommend-container"},t._l(t.recommendList,(function(e){return o("div",{key:e.id,staticClass:"recommend-item"},[o("router-link",{attrs:{to:"/flea/"+e.id}},[o("img",{staticClass:"recommend-img",attrs:{src:e.cover,alt:"商品封面"}})]),t._v(" "),o("div",{staticClass:"recommend-info"},[o("p",{domProps:{innerHTML:t._s(e.productName)}}),t._v(" "),o("p",[t._v("价格: "+t._s(e.price)+"元")])])],1)})),0),t._v(" "),o("div",{staticClass:"mt50 commentHtml"},[o("div",[t._m(1),t._v(" "),o("section",{staticClass:"lh-bj-list pr mt20 replyhtml"},[o("ul",[o("li",{staticClass:"unBr"},[t._m(2),t._v(" "),o("div",{staticClass:"of"},[o("section",{staticClass:"n-reply-wrap"},[o("fieldset",[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment.content,expression:"comment.content"}],attrs:{name:"",placeholder:"输入您要评论的文字",id:"commentContent"},domProps:{value:t.comment.content},on:{input:function(e){e.target.composing||t.$set(t.comment,"content",e.target.value)}}})]),t._v(" "),o("p",{staticClass:"of mt5 tar pl10 pr10"},[o("span",{staticClass:"fl"},[o("tt",{staticClass:"c-red commentContentmeg",staticStyle:{display:"none"}})],1),t._v(" "),o("input",{staticClass:"lh-reply-btn",attrs:{type:"button",value:"回复"},on:{click:function(e){return t.addComment()}}})])])])])])]),t._v(" "),o("section",{},[o("section",{staticClass:"question-list lh-bj-list pr"},[o("ul",{staticClass:"pr10"},t._l(t.data.items,(function(e,n){return o("li",{key:n},[o("aside",{staticClass:"noter-pic"},[o("img",{staticClass:"picImg",attrs:{width:"50",height:"50",src:e.avatar}})]),t._v(" "),o("div",{staticClass:"of"},[o("span",{staticClass:"fl"},[o("font",{staticClass:"fsize12 c-blue"},[t._v(t._s(e.nickname))]),t._v(" "),o("font",{staticClass:"fsize12 c-999 ml5"},[t._v("评论：")])],1)]),t._v(" "),o("div",{staticClass:"noter-txt mt5"},[o("p",[t._v(t._s(e.content))])]),t._v(" "),o("div",{staticClass:"of mt5"},[o("span",{staticClass:"fr"},[o("font",{staticClass:"fsize12 c-999 ml5"},[t._v(t._s(e.gmtCreate))])],1)])])})),0)])]),t._v(" "),o("div",{staticClass:"paging"},[o("a",{class:{undisable:!t.data.hasPrevious},attrs:{href:"#",title:"首页"},on:{click:function(e){return e.preventDefault(),t.gotoPage(1)}}},[t._v("首")]),t._v(" "),o("a",{class:{undisable:!t.data.hasPrevious},attrs:{href:"#",title:"前一页"},on:{click:function(e){return e.preventDefault(),t.gotoPage(t.data.current-1)}}},[t._v("<")]),t._v(" "),t._l(t.data.pages,(function(e){return o("a",{key:e,class:{current:t.data.current==e,undisable:t.data.current==e},attrs:{title:"第"+e+"页",href:"#"},on:{click:function(o){return o.preventDefault(),t.gotoPage(e)}}},[t._v(t._s(e))])})),t._v(" "),o("a",{class:{undisable:!t.data.hasNext},attrs:{href:"#",title:"后一页"},on:{click:function(e){return e.preventDefault(),t.gotoPage(t.data.current+1)}}},[t._v(">")]),t._v(" "),o("a",{class:{undisable:!t.data.hasNext},attrs:{href:"#",title:"末页"},on:{click:function(e){return e.preventDefault(),t.gotoPage(t.data.pages)}}},[t._v("末")]),t._v(" "),o("div",{staticClass:"clear"})],2)])])])]):o("div",[o("p",[t._v("Loading...")])])])}),n,!1,null,"04d542a7",null);e.default=component.exports}}]);