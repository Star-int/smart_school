(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-13c7"],{"1pSU":function(e,t,i){"use strict";var s=i("t3Un"),n="/admin/acl/user";t.a={getPageList:function(e,t,i){return Object(s.a)({url:n+"/"+e+"/"+t,method:"get",params:i})},getById:function(e){return Object(s.a)({url:n+"/get/"+e,method:"get"})},save:function(e){return Object(s.a)({url:n+"/save",method:"post",data:e})},updateById:function(e){return Object(s.a)({url:n+"/update",method:"put",data:e})},getAssign:function(e){return Object(s.a)({url:n+"/toAssign/"+e,method:"get"})},saveAssign:function(e,t){return Object(s.a)({url:n+"/doAssign",method:"post",params:{userId:e,roleId:t}})},removeById:function(e){return Object(s.a)({url:n+"/remove/"+e,method:"delete"})},removeRows:function(e){return Object(s.a)({url:n+"/batchRemove",method:"delete",data:e})}}},"ck/j":function(e,t,i){"use strict";i.r(t);var s=i("gDS+"),n=i.n(s),a=i("1pSU"),c={data:function(){return{checkAll:!1,checkedCities:[],cities:[],isIndeterminate:!0,userId:"",saveBtnDisabled:!1}},created:function(){this.init()},methods:{init:function(){this.$route.params&&this.$route.params.id&&(this.userId=this.$route.params.id,this.getById(this.userId))},getById:function(e){var t=this;a.a.getAssign(e).then(function(e){var i=e.data.assignRoles;t.checkedCities=t.getJsonToList(i,"id"),t.cities=e.data.allRolesList})},getJsonToList:function(e,t){for(var i=JSON.parse(n()(e)),s=[],a=0;a<i.length;a++)s.push(i[a][t]);return s},handleCheckAllChange:function(e){this.checkedCities=e?this.cities:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},update:function(){var e=this;this.saveBtnDisabled=!0;var t=this.checkedCities.join(",");console.log(t),a.a.saveAssign(this.userId,t).then(function(t){t.success&&(e.$message({type:"success",message:"保存成功"}),e.$router.push({path:"/acl/user/list"}))})}}},r=i("KHd+"),o=Object(r.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticStyle:{margin:"15px 0"}},[i("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return i("el-checkbox",{key:t.id,attrs:{label:t.id,disabled:e.checkedCities.length>0&&!e.checkedCities.includes(t.id)}},[e._v(e._s(t.roleName))])}))],1),e._v(" "),i("el-button",{attrs:{disabled:e.saveBtnDisabled,type:"primary"},on:{click:e.update}},[e._v("保存")])],1)},[],!1,null,null,null);o.options.__file="roleForm.vue";t.default=o.exports},"gDS+":function(e,t,i){e.exports={default:i("oh+g"),__esModule:!0}},"oh+g":function(e,t,i){var s=i("WEpk"),n=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}}}]);